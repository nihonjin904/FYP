# 研究、分析與開發報告 — 小組作業

封面頁
- 小組名稱: AIGEN
- 小組編號: TBA
- 專題標題: Arcane Souls: Rebirth
- 指導老師: Jussi Pekka HOLOPAINEN (SCM)
- 科目代碼: SM4712B
- 學生:
  - 李俊傑（SID: 57306141, EID: cklee96）— 組長
  - 林志謙（SID: 57185861, EID: kelvilam6）
- 繳交日期: 2025/10/24
- 個人部落格:
  - 李俊傑: https://leechunkit01255210.wixsite.com/e-portfolio
  - 林志謙: https://nihonjin864.wixsite.com/lamchihim

摘要（≈180–220 字）
Arcane Souls: Rebirth 是一款以 Unreal Engine 5（UE5）開發的 3D 動漫風動作冒險，融合受《隻狼》啟發的節奏判定戰鬥（FromSoftware, 2019）、風格化美術與「重生」主題。FYP 第一期（FYP Phase 1）目標是可玩的垂直切片：包含 1 名玩家角色（基本移動）、在神社主題場景中的 2 場首領戰，以及具回饋性的「姿態（Posture）」驅動戰鬥循環。在技術上，我們運用 UE5 的 Lumen 全域光照與反射、Behavior Tree（行為樹）、Niagara 視覺特效，以及風格化材質／後處理，建立高效的 3D 管線；目標在 1080p 下達到 60 FPS（Epic Games, n.d.），於 GTX 1660S 基準硬體上戰鬥場景 p95 幀時間 < 20 ms。格擋反擊（Parry）時機固定為 4 幀（約 67 ms），以確保可學習性與公平性。研究面向涵蓋：玩家技能精進的機制設計、AI 的回應性與可讀性、以及動作回饋的互動設計。本文涵蓋問題定義、文獻脈絡、方法、需求與設計、開發計畫、評估方法與風險管理，作為迭代構建的基礎。超出本期範疇但列入後續規劃者，包含第二張關卡與更完整的美術與內容打磨。

目錄
- 1. 引言
- 2. 相關工作／文獻回顧
- 3. 研究問題與方法
- 4. 需求與設計
- 5. 開發流程
- 6. 分析與結果
- 7. 測試與品質保證
- 8. 專案管理
- 9. 侷限與未來工作
- 10. 結論
- 參考文獻
- 附錄

## 1. 引言
背景與動機
魂系遊戲強調精準的時機判定與高風險對戰，回報熟練度。現代引擎在 3D 呈現與風格化渲染工具上成熟。我們致力在 UE5 的 3D 管線中融合上述優勢。

問題陳述與範疇
目前於 3D 動作品類中，兼具精緻風格化視覺與高回應性 AI 的「姿態導向」高難度作品相對稀缺。本專題將在 UE5 中實作可驗證的垂直切片：以 Windows PC 為目標，展示姿態戰鬥、敵人行為與模組化關卡。

目標與成功準則
- 創意：呈現統一的動漫美學與電影式敘事，呼應重生與奧秘主題。
- 技術：達成靈敏的招架／閃避／連段；整合 Lumen 打光；以 Behavior Tree 驅動 AI；以 Niagara 提供可讀性高的特效提示。
- 效能：目標 1080p 60 FPS；端到端輸入延遲滿足精準招架時窗（<100 ms）。
- 易用性：清晰前搖與回饋（動畫、音效、特效），以玩家成功率與問卷衡量。

貢獻
- 提供可重現的 UE5 3D 魂系戰鬥模型。
- 提出 3D 姿態／破防設計框架。
- 彙整 UE5 中風格化 3D 打光、動畫與 AI 的實務模式。

## 2. 相關工作／文獻回顧
- 魂系戰鬥設計：時機、前搖提示、姿態／韌性模型（FromSoftware, 2019）。
- 動作遊戲 AI：有限狀態機、Behavior Tree 與設計者友善的製作流程（Epic Games, n.d.）。
- 現代引擎中的風格化 3D 管線：材質、後處理、打光／陰影（Epic Games, n.d.）。
- 難度、心流與熟練度之玩家經驗研究。
註：參考文獻採 APA 格式。來源包括《隻狼》設計分析；UE5 AI／Lumen 文件；動漫風魂系作品分析（如 KANNAGI USAGI、AI‑LIMIT、Little Witch Nobeta、Unending Dawn）；與 Behavior Tree、遊戲難度相關的學術著作。

## 3. 研究問題與方法
研究問題
- RQ1：如何在 3D 中落實姿態戰鬥，以保留魂系的深度與公平？
- RQ2：哪些 AI 行為模式能在 3D、時機導向的戰鬥中誘發熟練度、避免挫折？
- RQ3：視覺／音訊前搖如何影響招架時機的準確度與回應性感知？

方法
- 取徑：混合方法。量化遙測（招架成功率、破姿態時間、每戰死亡數、幀時間），並輔以質性思考出聲法與問卷（SUS 與自編量表）。
- 資料來源：針對迭代原型的內部遊玩測試；以招架、閃避、反擊為焦點的任務情境。
- 工具：遊戲內記錄、螢幕錄影、會後問卷。
- 效度與控制：標準化新手教學與固定測試順序；固定輸入裝置（鍵鼠）；可選圖形預設（低／中／高／極致）以對應測試者硬體；任務期間不揭露研究目的；固定種子與組態以保障可重現；資料匿名化。

## 4. 需求與設計
功能性需求
- FR1：姿態／防禦機制，破防後具決定性一擊。
- FR2：招架、閃避與時機導向的反擊機制。
- FR3：首領戰（FYP 第一期）：兩名具差異化招式並以 Behavior Tree 自適應的首領。整體計畫：五種小型敵人（非首領）。
- FR4：關卡（FYP 第一期）：神社主題關卡，包含兩個明確區域——「Akabane Torii（赤羽鳥居）」與「Fogbound Sando（霧鎖参道）」——以及首領場地「Shadow Shrine Main Hall（影祠本殿）」。整體計畫：共兩張關卡；第二張將於後續階段交付。
- FR5：電影式過場與環境敘事節點。

非功能性需求
- NFR1：1080p 60 FPS 目標；輸入延遲須滿足精準招架；戰鬥場景於目標硬體 p95 幀時間 < 20 ms。
- NFR2：招架時窗固定 4 幀（≈67 ms）；難度調整影響傷害模型，不改動時窗。
- NFR3：無障礙選項（例如：前搖清晰度、音訊提示、色盲安全配色）。

硬體目標
- 最低（基準）：CPU Intel i5‑8400／AMD Ryzen 5 2600；RAM 16 GB；GPU GTX 1660S；顯示器 60 Hz。
- 建議：同級或更高 CPU／GPU；RAM ≥16 GB；顯示器 ≥60 Hz。

整體遊戲範圍（完整規劃）
- 1 名玩家可操控角色
- 2 名首領
- 2 張關卡
- 5 種小型敵人

驗收準則（示例）
- AC1：一般程度玩家於第二次遊玩達成 ≥60% 招架成功率。
- AC2：基準難度下，首領破姿態時間介於 45–120 秒。
- AC3：在 1080p 與目標硬體下維持 60 FPS，且 p95 幀時間 < 20 ms。

系統架構（概覽）
- UE5 專案使用骨架網格／動畫、風格化材質與後處理、Lumen 全域光照與反射；必要處以 Niagara VFX 輔助可讀性。
- 遊戲層：姿態、精力／韌性、傷害與無敵幀。
- AI 層：Behavior Tree 與黑板資料，支援狀態回應。
- 關卡框架：模組化房間、生成表與戰鬥腳本。

UI／UX
- 清晰前搖（預備影格、音效、特效）。
- 姿態狀態的擬真回饋；HUD 精簡呈現精力／姿態。

FYP 第一期範疇與當前交付物
- 目前狀態：已整合 1 個 FAB 來源場景；3 個東方 Project 角色模型已匯入且可用。
- FYP 第一期垂直切片目標：1 名玩家角色（基本移動）；在神社主題區域中的 2 場首領戰；在 GTX 1660S 基準上於 1080p 穩定達到 60 FPS。
- 註：「Akabane Torii（赤羽鳥居）」與「Fogbound Sando（霧鎖参道）」為同一關卡中的兩個不同區域。

敵人原型（概念）
- Kitsune Attendant：近距離衝刺突刺；二連段後可反制。
- Kappa Spearman：中距離戳刺與壓制性投擲；蓄力後露出破綻。
- Tengu Blademaster：快速三連斬；第三斬前明顯前搖。
- Omyoji Beastform：召喚與符咒遠程；近身容易被打斷。
- Chochin Obake：燈籠範圍爆發；收燈時硬直較長。

## 5. 開發流程
流程模型
- 偏敏捷的迭代開發，短週期遊玩測試。

里程碑（依提案）
- 構想與前期製作（第 1 月）：遊戲概念、GDD、初始美術。
- 原型製作（第 2–3 月）：核心戰鬥循環、姿態、招架時窗沙盒。
- 開發（第 4–8 月）：關卡、AI 原型、內容管線。
- 測試（第 9–10 月）：平衡、修復、可用性測試。
- 最佳化（第 11 月）：效能調校、資產打磨。
- 釋出（第 12 月）：最終測試、封裝與釋出準備。

版本控制與分支
- main（穩定）、develop（整合）、feature/*（機制、AI、關卡）、hotfix/*。

## 6. 分析與結果
評估計畫
- 指標：招架準確度、破姿態時間、每戰死亡數、幀時間統計。
- 實驗：不同招架時窗難度；AI 進攻性調整；打光對可讀性的影響。
- 報告：跨多次遊玩的學習曲線；玩家失敗熱點熱區圖。

目前發現（隨衝刺更新）
- 待以原型遙測基線與可用性回饋補充本節。

範例資料（後續以真實測試替換）
| 測試者 | 經驗 | 招架成功率 | p95 幀時間（ms） |
|---|---|---|---|
| T1 | 新手 | 32% | 18 |
| T2 | 新手 | 41% | 19 |
| T3 | 新手 | 28% | 17 |
| T4 | 老手 | 62% | 14 |
| T5 | 老手 | 68% | 13 |
註：僅供示意；後續以實測替換（n=5；1080p；GTX 1660S）。

## 7. 測試與品質保證
- 姿態計算與命中判定的單元測試。
- AI Behavior Tree 與戰鬥腳本的整合測試。
- 效能與載入的系統測試；GPU／CPU 分析。
- 任務導向的可用性測試；問卷（SUS + 自編量表）。
- 缺陷追蹤與嚴重度／優先度分級；合併至 main 前的回歸檢查。

效能剖析步驟（UE5）
- 在遊戲主控台使用：`stat fps`、`stat unitgraph`、`stat gpu`，特別是首領戰與高密度場景。
- 透過 Session Frontend／Unreal Insights 記錄幀時間分佈（p50／p95／p99）。

合併前品質門檻
- 不得引入新的當機缺陷。
- 與基準場景相比，目標硬體上的 p95 幀時間回歸 < 10%。
- 在 GTX 1660S 下，1080p 的關鍵場景須維持 60 FPS（p99 幀時間 < 30 ms）。

## 8. 專案管理
角色與責任
- 李俊傑：戰鬥系統、AI 行為製作、整合負責。
- 林志謙：關卡設計、美術／動畫管線、UI／UX 與特效提示。

時間線與資源
- 平台：PC（Windows）。
- 引擎／工具：Unreal Engine 5、Behavior Tree、Niagara、Blueprints。
- 風險：高複雜場景的效能；AI 調校；內容範疇膨脹。
- 緩解：規劃效能剖析衝刺；AI 調校手冊；內容刪減準則。

版本控制與分支
- main（穩定）、develop（整合）、feature/<name>（機制、AI、關卡）。

持續整合
- 輕量化檢查：Markdown 規範與資產命名慣例。本期不啟用自動 UE 建置。

## 9. 侷限與未來工作
- 以風格化 3D 應用 Lumen 與高擬真特效，可能限制低階硬體。
- Behavior Tree 複雜度可能提升；可考慮以 Utility AI 強化延展性。
- 未來：更多敵人／首領多樣性、進階無障礙預設、控制器觸覺回饋與主機平台移植。

風險矩陣（3×3 發生率 × 影響）
| 風險 | 發生率 × 影響 | 緩解 |
|---|---|---|
| 高密度場景效能回歸 | 中 × 高 | 早期剖析、預算約束、資產 LOD、特效裁剪 |
| AI 可讀性不足（不公平前搖） | 中 × 高 | 前搖指引、招架時窗固定 4 幀、迭代測試回饋 |
| 美術／資產進度延宕 | 高 × 中 | 範疇門檻、臨時替代、以里程碑為基礎的刪減 |
| 範疇膨脹（機制／關卡） | 中 × 中 | 變更管控、MoSCoW 優先、完成定義 |
| 戰鬥節奏失衡 | 中 × 中 | 迭代調整、具量化目標的戰鬥腳本 |

## 10. 結論
本文說明以 UE5 製作風格化 3D 魂系的動機與規劃，界定目標與評估準則，並詳述設計與流程結構。後續衝刺將驗證戰鬥手感、AI 可讀性與效能，逐步迭代至打磨完成的垂直切片。

參考文獻（APA 樣式）
- FromSoftware. (2019). Sekiro: Shadows Die Twice [Video game]. FromSoftware; Activision.
- Epic Games. (n.d.). Unreal Engine 5 Documentation: Behavior Trees. https://docs.unrealengine.com/5.0/en-US/behavior-trees-in-unreal-engine/
- Epic Games. (n.d.). Unreal Engine 5 Documentation: Lumen. https://docs.unrealengine.com/5.0/en-US/lumen-global-illumination-and-reflections-in-unreal-engine/
- KANNAGI USAGI. (n.d.). Steam store page. https://store.steampowered.com/app/2551500/__KANNAGI_USAGI/
- AI‑LIMIT. (n.d.). Steam store page. https://store.steampowered.com/app/2407270/AI_LIMIT/
- Pupuya Games. (2022). Little Witch Nobeta [Video game]. https://store.steampowered.com/app/1049890/Little_Witch_Nobeta/
- Unending Dawn. (n.d.). Overview. https://zh.wikipedia.org/zh-tw/%E7%B5%95%E6%9B%89
- 其他選擇性之學術／產業來源，涵蓋 Behavior Tree、心流與難度設計。

附錄
A. FYP 第一期交付物與未來範疇
- FYP 第一期：已整合 1 個 FAB 場景；3 個東方 Project 模型可用；1 名玩家角色（基本移動）；2 場首領戰（進行中）；招架時窗固定 4 幀（≈ 67 ms）；在 GTX 1660S 基準上於 1080p 目標 60 FPS。
- 未來：更多手工區塊；第二張關卡；生產等級的美術資產（角色、敵人、場景、UI）。

B. 製作計畫與時程（自聲明）

| 階段 | 月份 | 重點 |
|---|---|---|
| 構想與前期製作 | 1 | 遊戲概念、設計文件、初始美術 |
| 原型製作 | 2–3 | 基本玩法機制與核心測試 |
| 開發 | 4–8 | 系統、關卡與功能的完整開發 |
| 測試 | 9–10 | 遊玩測試、平衡、修復缺陷 |
| 最佳化 | 11 | 效能調校與最終修復 |
| 釋出 | 12 | 最終測試、封裝與釋出 |

C. 其他圖表：架構圖、UI 草圖、戰鬥腳本

撰寫與繳交流程說明
- 請將本內容複製至官方封面 `Documents/ReportOnResearchAnalyseDevelopment_Cover.doc` 之後。
- 套用標題樣式以自動生成目錄；圖表請加上標題與註解。
- 匯出為 PDF 並內嵌字型。建議檔名：FYP_AIGen_Research-Analyse-Development_Report.pdf。
- 每位組員：將 PDF 發佈至個人專題部落格。
- 組長：依 LMS 指示於 10 月 24 日 23:59 前繳交。
